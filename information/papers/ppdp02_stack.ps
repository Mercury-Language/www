%!PS-Adobe-3.0
%%Creator: groff version 1.15
%%CreationDate: Mon Oct  7 18:13:09 2002
%%DocumentNeededResources: font Times-Roman
%%+ font Times-Italic
%%DocumentSuppliedResources: procset grops 1.15 1
%%Pages: 14
%%PageOrder: Ascend
%%Orientation: Portrait
%%EndComments
%%BeginProlog
%%BeginResource: procset grops 1.15 1
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}bind def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/FL{
currentgray exch setgray fill setgray
}bind def
/BL/fill load def
/LW/setlinewidth load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
}bind def
/PEND{
clear
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%IncludeResource: font Times-Roman
%%IncludeResource: font Times-Italic
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 841.89 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron
/Zcaron/scaron/zcaron/Ydieresis/trademark/quotesingle/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Times-Italic@0 ENC0/Times-Italic RE/Times-Roman@0 ENC0/Times-Roman RE
%%EndProlog
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 28/Times-Roman@0 SF(Using the heap)213.014 229.8 Q
(to eliminate stack accesses)147.312 263.4 Q(Zoltan Somogyi)206.378
330.6 Q(Peter J. Stuck)207.526 364.2 Q -.42(ey)-.28 G
({zs,pjs}@cs.mu.oz.au)172.68 431.4 Q(Uni)158.358 465 Q -.42(ve)-.7 G
(rsity of Melbourne).42 E/F1 8/Times-Roman@0 SF 2(-p)281.336 760 S
(pdp 1 -)-2 E EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 28/Times-Roman@0 SF(Background)228.568 96 Q 7.647
(Mercury is a purely declarati)72 160 R 8.486 -.42(ve l)-.7 H(ogic).42 E
(programming language.)72 192 Q 5.653
(It has strong types and strong modes.)72 256 R 18.13(The compiler kno)
72 288 R 18.129(ws the state of)-.7 F 4.275(instantiation of e)72 320 R
-.42(ve)-.7 G 4.275(ry v).42 F 4.275(ariable at e)-.7 F -.42(ve)-.7 G
(ry).42 E(program point.)72 352 Q .091
(Cells allocated on the heap are naturally)72 416 R(immutable.)72 448 Q
7.103(Instead of updating data structures in)72 512 R
(place, you create ne)72 544 Q 7(wv)-.7 G(ersions.)-7.42 E 11.146
(The Mercury compiler is written in)72 608 R(Mercury)72 640 Q 17.233(.P)
-1.82 G 3.233(ro\214ling sho)-17.233 F 3.234(ws that its most)-.7 F -.42
(ex)72 672 S(pensi).42 E 6.706 -.42(ve p)-.7 H 5.866
(redicates are the ones that).42 F(search and update trees.)72 704 Q/F1
8/Times-Roman@0 SF 2(-p)281.336 760 S(pdp 2 -)-2 E EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 28/Times-Roman@0 SF(The general idea)203.704 96 Q 15.29 -2.24(We v)
72 160 T(ie)2.24 E 17.81(wp)-.7 G 10.811(rocedure bodies as being)-17.81
F .147(composed of a set of program)72 192 R/F1 28/Times-Italic@0 SF(se)
7.146 E(gments)-1.12 E F0(.)A(Se)72 256 Q 12.778
(gments are contiguous re)-.42 F 12.778(gions of)-.42 F 10.833
(code bounded by program points at)72 288 R 4.603(which all v)72 320 R
4.603(ariables must be \215ushed to)-.7 F(the stack.)72 352 Q 4.432
(Some uni\214cations assign the v)72 416 R 4.432(alues of)-.7 F 3.438
(the \214elds of a memory cell to a b)72 448 R(unch)-.56 E 10.524(of v)
72 480 R 17.524(ariables. The)-.7 F 10.524(program se)17.524 F(gments)
-.42 E 3.867(containing such uni\214cations often sa)72 512 R -.42(ve)
-.56 G(most of these v)72 544 Q(ariables on the stack.)-.7 E 21.143
-2.24(We c)72 608 T 16.663(an a)2.24 F -.56(vo)-.56 G 16.662(id e).56 F
-.42(xe)-.42 G 16.662(cuting the code).42 F 1.037
(required for this if we are willing to get)72 640 R 4.752
(those \214eld v)72 672 R 4.751(ariables from the memory)-.7 F
(cell in other se)72 704 Q(gments.)-.42 E/F2 8/Times-Roman@0 SF 2(-p)
281.336 760 S(pdp 3 -)-2 E EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 28/Times-Roman@0 SF(update\(T0, K, V)72 97.6 Q 7(,T)-3.612 G 7(\):)
-7 G(-)-7 E(%)106.015 131.2 Q/F1 28/Times-Italic@0 SF
(load K0, V0, L0, R0)7 E F0(T0 => tree\(K0, V0, L0, R0\),)106.015 164.8
Q(%)106.015 198.4 Q F1(stor)7 E 7(eK)-1.036 G 7(,V)-7 G 7(,K)-10.612 G
(0, V0, L0, R0)-7 E F0(compare\(Result, K, K0\),)106.015 232 Q(\()
106.015 265.6 Q F1 7(%s)7 G(witc)-7 E 7(ho)-.42 G 7(nR)-7 G(esult)-7 E
F0(Result => \(<\),)140.031 299.2 Q(%)140.031 332.8 Q F1(load L0, K, V)7
E F0(update\(L0, K, V)140.031 366.4 Q 7(,L)-3.612 G(\),)-7 E(%)140.031
400 Q F1(load K0, V0, R0)7 E F0 7(T<)140.031 433.6 S 7(=t)-7 G
(ree\(K0, V0, L, R0\))-7 E(;)106.015 467.2 Q(Result => \(=\),)140.031
500.8 Q 7(T<)140.031 534.4 S 7(=t)-7 G(ree\(K0, V)-7 E 7(,L)-3.612 G
(0, R0\))-7 E(;)106.015 568 Q(Result => \(>\),)140.031 601.6 Q
(update\(R0, K, V)140.031 635.2 Q 7(,R)-3.612 G(\),)-7 E 7(T<)140.031
668.8 S 7(=t)-7 G(ree\(K0, V0, L0, R\))-7 E(\).)106.015 702.4 Q/F2 8
/Times-Roman@0 SF 2(-p)281.336 760 S(pdp 4 -)-2 E EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 28/Times-Roman@0 SF(update\(T0, K, V)72 97.6 Q 7(,T)-3.612 G 7(\):)
-7 G(-)-7 E(%)106.015 131.2 Q/F1 28/Times-Italic@0 SF(load K0)7 E F0
(T0 => tree\(K0, _, _, _\),)106.015 164.8 Q(%)106.015 198.4 Q F1(stor)7
E 7(eK)-1.036 G 7(,V)-7 G 7(,T)-10.612 G(0)-7 E F0
(compare\(Result, K, K0\),)106.015 232 Q(\()106.015 265.6 Q F1 7(%s)7 G
(witc)-7 E 7(ho)-.42 G 7(nR)-7 G(esult)-7 E F0(Result => \(<\),)140.031
299.2 Q(%)140.031 332.8 Q F1(load T0, L0s2, K, V)7 E F0
(T0 => tree\(_, _, L0s2, _\),)140.031 366.4 Q(update\(L0s2, K, V)140.031
400 Q 7(,L)-3.612 G(\),)-7 E(%)140.031 433.6 Q F1
(load T0, K0s3, V0s3, R0s3)7 E F0(T0 => tree\(K0s3, V0s3, _, R0s3\),)
140.031 467.2 Q 7(T<)140.031 500.8 S 7(=t)-7 G
(ree\(K0s3, V0s3, L, R0s3\))-7 E(;)106.015 534.4 Q(Result => \(=\),)
140.031 568 Q(T0 => tree\(K0s4, _, L0s4, R0s4\),)140.031 601.6 Q 7(T<)
140.031 635.2 S 7(=t)-7 G(ree\(K0s4, V)-7 E 7(,L)-3.612 G(0s4, R0s4\))-7
E(;)106.015 668.8 Q(...)140.031 702.4 Q/F2 8/Times-Roman@0 SF 2(-p)
281.336 760 S(pdp 5 -)-2 E EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 28/Times-Roman@0 SF(Costs and bene\214ts)195.108 96 Q 1.369(The ef)
72 160 R 1.369(fects of accessing a \214eld v)-.7 F(ariable)-.7 E 9.683
(F\()72 192 S 2.683(e.g. L0\) via the cell v)-9.683 F 2.682
(ariable C \(e.g.)-.7 F(T0\) instead of via the stack:)72 224 Q 40.208
(+W)72 293.8 S 18.777(ea)-42.448 G 11.778(dd a load of C in e)-18.777 F
-.42(ve)-.7 G(ry).42 E(se)128 327.4 Q 1.668(gment that accesses F b)-.42
F 1.668(ut not C.)-.56 F 40.208(+W)72 398.8 S 8.084(ea)-42.448 G 1.084
(dd a store of C to the stack in)-8.084 F 3.058(the initial se)128 432.4
R 3.058(gment if C is not li)-.42 F -.42(ve)-.7 G(after the initial se)
128 466 Q(gment.)-.42 E 46.676(-W)72 537.4 S 9.623(ea)-48.916 G -.56(vo)
-10.183 G 2.623(id a store of F to the stack).56 F(in the initial se)128
571 Q(gment.)-.42 E 46.676(-W)72 642.4 S 9.424(ea)-48.916 G -.56(vo)
-9.984 G 2.423(id a load of F in the initial).56 F(se)128 676 Q 4.238
(gment if F is not needed in the)-.42 F(initial se)128 709.6 Q(gment.)
-.42 E/F1 8/Times-Roman@0 SF 2(-p)281.336 760 S(pdp 6 -)-2 E EP
%%Page: 7 7
%%BeginPageSetup
BP
%%EndPageSetup
/F0 28/Times-Roman@0 SF(Interdependence)204.488 96 Q 1.248
(Cells often contain more than one \214eld.)72 160 R 3.298
(The bene\214ts of accessing F1 via C are)72 224 R 3.071
(independent of whether we also access)72 256 R(F2 via C.)72 288 Q 1.426
(The costs of accessing F1 via C are)72 352 R/F1 28/Times-Italic@0 SF
(not)8.426 E F0 3.071(independent of whether we also access)72 384 R
(F2 via C.)72 416 Q .575(If a se)72 480 R .576
(gment accesses F1 and F2 b)-.42 F .576(ut not)-.56 F 8.129
(C, then a single added load of C is)72 512 R(suf)72 544 Q 3.128
(\214cient to pro)-.7 F 3.129(vide a base address for)-.42 F 5.985
(accesses to both F1 and F2, pro)72 576 R(vided)-.42 E 9.363
(the loaded v)72 608 R 9.363(alue doesn')-.7 F 16.363(tn)-.504 G 9.364
(eed to be)-16.363 F(spilled from its re)72 640 Q(gister)-.42 E(.)-1.54
E/F2 8/Times-Roman@0 SF 2(-p)281.336 760 S(pdp 7 -)-2 E EP
%%Page: 8 8
%%BeginPageSetup
BP
%%EndPageSetup
/F0 28/Times-Roman@0 SF(The optimization graph)165.568 96 Q 4.562 -2.24
(We w)72 160 T .082(ant to select a set of \214eld v)1.96 F(ariables)-.7
E 9.078(to access via the cell for which the)72 192 R 3.855
(number of loads/stores we can remo)72 224 R -.42(ve)-.42 G 1.522
(\(the bene\214ts\) is equal to or greater than)72 256 R
(the number we ha)72 288 Q .84 -.42(ve t)-.56 H 7(oa).42 G
(dd \(the costs\).)-7 E 8.341(The optimization graph is a bipartite)72
352 R 16.908(graph. One)72 384 R 9.909(kind of node represents)16.909 F
(bene\214ts, another represents costs.)72 416 Q 2.85
(It contains an edge linking a cost node)72 480 R 8.446
(and a bene\214t node if the tw)72 512 R 15.446(on)-.28 G(odes)-15.446 E
1.645(represent parts of the costs and bene\214ts)72 544 R 2.023
(of accessing the same \214eld v)72 576 R 2.023(ariable via)-.7 F
(the cell.)72 608 Q 4.402(All the bene\214ts and some of the costs)72
672 R(are in the initial se)72 704 Q(gment.)-.42 E/F1 8/Times-Roman@0 SF
2(-p)281.336 760 S(pdp 8 -)-2 E EP
%%Page: 9 9
%%BeginPageSetup
BP
%%EndPageSetup
/F0 28/Times-Roman@0 SF(An e)119.508 96 Q(xample optimization graph)-.42
E(p\(T0, C3\) :-)72 165.8 Q(T0 => tree\(K0, V0, L0, R0\),)106.015 199.4
Q(dodgy\(K0, V0, L0, R0\),)106.015 233 Q(balanced\(L0, R0\),)106.015
266.6 Q(check\(K0, V0, C1\),)106.015 300.2 Q(check\(K0, C1, C2\),)
106.015 333.8 Q(check\(K0, C2, C3\).)106.015 367.4 Q(store\(T0\))128.41
453.272 Q(load\(T0,2\))188.842 485.272 Q(load\(T0,3\))256.594 453.272 Q
(load\(T0,4\))324.346 485.272 Q(load\(T0,5\))392.098 453.272 Q 180.54
513.872 16.956 DC 1.12 LW ST 248.292 513.872 16.956 DC ST 316.044
513.872 16.956 DC ST 383.868 513.872 16.956 DC ST 451.62 513.872 16.956
DC ST 214.452 598.616 16.956 DC ST 282.204 598.616 16.956 DC ST 349.956
598.616 16.956 DC ST 417.708 598.616 16.956 DC ST(store\(L0\))162.322
671.608 Q(store\(R0\))229.29 639.608 Q(store\(V0\))296.272 671.608 Q
(store\(K0\))364.024 639.608 Q 188.424 533.6 186.84 529.64 DL 191.664
541.808 190.08 537.848 DL 194.976 550.016 193.392 546.056 DL 198.288
558.224 196.704 554.264 DL 201.528 566.504 199.944 562.544 DL 204.84
574.712 203.256 570.752 DL 208.152 582.92 206.568 578.96 DL 256.176
533.6 254.592 529.64 DL 259.488 541.808 257.904 537.848 DL 262.728
550.016 261.144 546.056 DL 266.04 558.224 264.456 554.264 DL 269.352
566.504 267.768 562.544 DL 272.592 574.712 271.008 570.752 DL 275.904
582.92 274.32 578.96 DL 323.928 533.6 322.344 529.64 DL 327.24 541.808
325.656 537.848 DL 330.48 550.016 328.896 546.056 DL 333.792 558.224
332.208 554.264 DL 337.104 566.504 335.52 562.544 DL 340.344 574.712
338.76 570.752 DL 343.656 582.92 342.072 578.96 DL 443.736 533.6 445.32
529.64 DL 440.424 541.808 442.008 537.848 DL 437.112 550.016 438.696
546.056 DL 433.872 558.224 435.456 554.264 DL 430.56 566.504 432.144
562.544 DL 427.248 574.712 428.832 570.752 DL 424.008 582.92 425.592
578.96 DL 196.776 527.48 193.536 524.744 DL 203.328 532.952 200.088
530.216 DL 209.952 538.424 206.712 535.688 DL 216.504 543.968 213.264
541.232 DL 223.128 549.44 219.888 546.704 DL 229.68 554.912 226.44
552.176 DL 236.232 560.384 232.992 557.648 DL 242.856 565.856 239.616
563.12 DL 249.408 571.328 246.168 568.592 DL 255.96 576.8 252.72 574.064
DL 262.584 582.344 259.344 579.608 DL 269.136 587.816 265.896 585.08 DL
199.512 523.376 195.696 521.504 DL 207 527.12 203.184 525.248 DL 214.56
530.864 210.744 528.992 DL 222.048 534.608 218.232 532.736 DL 229.536
538.424 225.72 536.552 DL 237.096 542.168 233.28 540.296 DL 244.584
545.912 240.768 544.04 DL 252.144 549.656 248.328 547.784 DL 259.632
553.4 255.816 551.528 DL 267.192 557.216 263.376 555.344 DL 274.68
560.96 270.864 559.088 DL 282.168 564.704 278.352 562.832 DL 289.728
568.448 285.912 566.576 DL 297.216 572.192 293.4 570.32 DL 304.776
576.008 300.96 574.136 DL 312.264 579.752 308.448 577.88 DL 319.752
583.496 315.936 581.624 DL 327.312 587.24 323.496 585.368 DL 334.8
590.984 330.984 589.112 DL 200.448 521.072 196.488 519.632 DL 208.512
523.952 204.552 522.512 DL 216.576 526.76 212.616 525.32 DL 224.568
529.64 220.608 528.2 DL 232.632 532.52 228.672 531.08 DL 240.696 535.4
236.736 533.96 DL 248.76 538.28 244.8 536.84 DL 256.824 541.16 252.864
539.72 DL 264.888 544.04 260.928 542.6 DL 272.88 546.92 268.92 545.48 DL
280.944 549.8 276.984 548.36 DL 289.008 552.68 285.048 551.24 DL 297.072
555.56 293.112 554.12 DL 305.136 558.44 301.176 557 DL 313.128 561.32
309.168 559.88 DL 321.192 564.2 317.232 562.76 DL 329.256 567.08 325.296
565.64 DL 337.32 569.96 333.36 568.52 DL 345.384 572.768 341.424 571.328
DL 353.448 575.648 349.488 574.208 DL 361.44 578.528 357.48 577.088 DL
369.504 581.408 365.544 579.968 DL 377.568 584.288 373.608 582.848 DL
385.632 587.168 381.672 585.728 DL 393.696 590.048 389.736 588.608 DL
401.688 592.928 397.728 591.488 DL 240.408 533.6 241.992 529.64 DL
237.096 541.808 238.68 537.848 DL 233.856 550.016 235.44 546.056 DL
230.544 558.224 232.128 554.264 DL 227.232 566.504 228.816 562.544 DL
223.992 574.712 225.576 570.752 DL 220.68 582.92 222.264 578.96 DL
332.28 527.48 329.04 524.744 DL 338.904 532.952 335.664 530.216 DL
345.456 538.424 342.216 535.688 DL 352.08 543.968 348.84 541.232 DL
358.632 549.44 355.392 546.704 DL 365.184 554.912 361.944 552.176 DL
371.808 560.384 368.568 557.648 DL 378.36 565.856 375.12 563.12 DL
384.912 571.328 381.672 568.592 DL 391.536 576.8 388.296 574.064 DL
398.088 582.344 394.848 579.608 DL 404.712 587.816 401.472 585.08 DL
391.68 533.6 390.096 529.64 DL 394.992 541.808 393.408 537.848 DL
398.304 550.016 396.72 546.056 DL 401.544 558.224 399.96 554.264 DL
404.856 566.504 403.272 562.544 DL 408.168 574.712 406.584 570.752 DL
411.408 582.92 409.824 578.96 DL(costs:)78.632 520.032 Q(bene\214ts:)
81.436 604.776 Q/F1 8/Times-Roman@0 SF 2(-p)281.336 760 S(pdp 9 -)-2 E
EP
%%Page: 10 10
%%BeginPageSetup
BP
%%EndPageSetup
/F0 28/Times-Roman@0 SF(Maximal matching)190.838 96 Q 8.038
(The solid edges represent a maximal)72 160 R 6.319
(matching, i.e. a matching of maximal)72 192 R(size.)72 224 Q .865
(Load\(T0, 4\) is an unmatched cost node,)72 288 R 9.976(and the mark)72
320 R 9.976(ed nodes are reachable)-.28 F
(from it via an alternating path.)72 352 Q(store\(T0\))128.41 433.672 Q
(load\(T0,2\))188.842 465.672 Q(load\(T0,3\))256.594 433.672 Q
(load\(T0,4\))324.346 465.672 Q(load\(T0,5\))392.098 433.672 Q 180.54
494.272 16.956 DC 1.12 LW ST 248.292 494.272 16.956 DC ST 316.044
494.272 16.956 DC ST 383.868 494.272 16.956 DC ST(m)372.94 500.432 Q
451.62 494.272 16.956 DC ST(m)440.692 500.432 Q 214.452 579.016 16.956
DC ST 282.204 579.016 16.956 DC ST 349.956 579.016 16.956 DC ST 417.708
579.016 16.956 DC ST(m)406.78 585.176 Q(store\(L0\))162.322 652.008 Q
(store\(R0\))229.29 620.008 Q(store\(V0\))296.272 652.008 Q(store\(K0\))
364.024 620.008 Q 208.152 563.32 186.84 510.04 DL 275.904 563.32 254.592
510.04 DL 343.656 563.32 322.344 510.04 DL 424.008 563.32 445.32 510.04
DL 196.776 507.88 193.536 505.144 DL 203.328 513.352 200.088 510.616 DL
209.952 518.824 206.712 516.088 DL 216.504 524.368 213.264 521.632 DL
223.128 529.84 219.888 527.104 DL 229.68 535.312 226.44 532.576 DL
236.232 540.784 232.992 538.048 DL 242.856 546.256 239.616 543.52 DL
249.408 551.728 246.168 548.992 DL 255.96 557.2 252.72 554.464 DL
262.584 562.744 259.344 560.008 DL 269.136 568.216 265.896 565.48 DL
199.512 503.776 195.696 501.904 DL 207 507.52 203.184 505.648 DL 214.56
511.264 210.744 509.392 DL 222.048 515.008 218.232 513.136 DL 229.536
518.824 225.72 516.952 DL 237.096 522.568 233.28 520.696 DL 244.584
526.312 240.768 524.44 DL 252.144 530.056 248.328 528.184 DL 259.632
533.8 255.816 531.928 DL 267.192 537.616 263.376 535.744 DL 274.68
541.36 270.864 539.488 DL 282.168 545.104 278.352 543.232 DL 289.728
548.848 285.912 546.976 DL 297.216 552.592 293.4 550.72 DL 304.776
556.408 300.96 554.536 DL 312.264 560.152 308.448 558.28 DL 319.752
563.896 315.936 562.024 DL 327.312 567.64 323.496 565.768 DL 334.8
571.384 330.984 569.512 DL 200.448 501.472 196.488 500.032 DL 208.512
504.352 204.552 502.912 DL 216.576 507.16 212.616 505.72 DL 224.568
510.04 220.608 508.6 DL 232.632 512.92 228.672 511.48 DL 240.696 515.8
236.736 514.36 DL 248.76 518.68 244.8 517.24 DL 256.824 521.56 252.864
520.12 DL 264.888 524.44 260.928 523 DL 272.88 527.32 268.92 525.88 DL
280.944 530.2 276.984 528.76 DL 289.008 533.08 285.048 531.64 DL 297.072
535.96 293.112 534.52 DL 305.136 538.84 301.176 537.4 DL 313.128 541.72
309.168 540.28 DL 321.192 544.6 317.232 543.16 DL 329.256 547.48 325.296
546.04 DL 337.32 550.36 333.36 548.92 DL 345.384 553.168 341.424 551.728
DL 353.448 556.048 349.488 554.608 DL 361.44 558.928 357.48 557.488 DL
369.504 561.808 365.544 560.368 DL 377.568 564.688 373.608 563.248 DL
385.632 567.568 381.672 566.128 DL 393.696 570.448 389.736 569.008 DL
401.688 573.328 397.728 571.888 DL 240.408 514 241.992 510.04 DL 237.096
522.208 238.68 518.248 DL 233.856 530.416 235.44 526.456 DL 230.544
538.624 232.128 534.664 DL 227.232 546.904 228.816 542.944 DL 223.992
555.112 225.576 551.152 DL 220.68 563.32 222.264 559.36 DL 332.28 507.88
329.04 505.144 DL 338.904 513.352 335.664 510.616 DL 345.456 518.824
342.216 516.088 DL 352.08 524.368 348.84 521.632 DL 358.632 529.84
355.392 527.104 DL 365.184 535.312 361.944 532.576 DL 371.808 540.784
368.568 538.048 DL 378.36 546.256 375.12 543.52 DL 384.912 551.728
381.672 548.992 DL 391.536 557.2 388.296 554.464 DL 398.088 562.744
394.848 560.008 DL 404.712 568.216 401.472 565.48 DL 391.68 514 390.096
510.04 DL 394.992 522.208 393.408 518.248 DL 398.304 530.416 396.72
526.456 DL 401.544 538.624 399.96 534.664 DL 404.856 546.904 403.272
542.944 DL 408.168 555.112 406.584 551.152 DL 411.408 563.32 409.824
559.36 DL(costs:)78.632 500.432 Q(bene\214ts:)81.436 585.176 Q/F1 8
/Times-Roman@0 SF 2(-p)279.336 760 S(pdp 10 -)-2 E EP
%%Page: 11 11
%%BeginPageSetup
BP
%%EndPageSetup
/F0 28/Times-Roman@0 SF(Selecting \214eld v)162.81 96 Q(ariables)-.7 E
19.204 -2.24(We d)72 160 T -.7(iv)2.24 G 14.725(ide \214eld v).7 F
14.725(ariables into tw)-.7 F(o)-.28 E 3.368
(classes: those whose bene\214ts include a)72 192 R 10.894(node mark)72
224 R 10.894(ed by an alternating path)-.28 F 12.86
(from an unmatched cost node, and)72 256 R 10.206
(those whose bene\214ts do not include)72 288 R(such nodes.)72 320 Q
9.306 -2.24(We s)72 384 T 4.826(tore v)2.24 F 4.826
(ariables in the \214rst class in)-.7 F 3.432(stack slots.)72 416 R
7.912 -2.24(We a)17.432 H 3.432(ccess v)2.24 F 3.432(ariables in the)-.7
F 15.492(second class via the cell v)72 448 R(ariable,)-.7 E 14.975
(arranged through a source-to-source)72 480 R(transformation.)72 512 Q
18.585 -2.24(We h)72 576 T -6.3 -.56(av e)2.24 H 21.105(at)21.665 G
14.104(heorem that says this)-21.105 F(maximizes the net bene\214t.)72
608 Q/F1 8/Times-Roman@0 SF 2(-p)279.336 760 S(pdp 11 -)-2 E EP
%%Page: 12 12
%%BeginPageSetup
BP
%%EndPageSetup
/F0 28/Times-Roman@0 SF(Per)201.24 96 Q(-path analysis)-.56 E(Dif)72 160
Q 12.372(ferent paths through a procedure)-.7 F .501(body e)72 192 R
-.42(xe)-.42 G .501(cute dif).42 F .501(ferent sets of se)-.7 F(gments.)
-.42 E 4.298(The result of the costs/bene\214t analysis)72 256 R 3.073
(can therefore be dif)72 288 R 3.072(ferent on each path)-.7 F
(through the procedure body)72 320 Q(.)-1.82 E 8.952 -2.24(We a)72 384 T
4.472(ccess a v)2.24 F 4.473(ariable through its stack)-.7 F 18.305
(slot only if this doesn')72 416 R 25.304(ty)-.504 G 18.304(ield a)
-25.304 F(slo)72 448 Q(wdo)-.7 E(wn on)-.7 E/F1 28/Times-Italic@0 SF
(any)7 E F0(path.)7 E 8.234(This is a conserv)72 512 R(ati)-.7 E 9.075
-.42(ve a)-.7 H 15.235(pproach. W).42 F(e)-2.24 E 9.093
(could be more aggressi)72 544 R 9.933 -.42(ve i)-.7 H 16.092(fw).42 G
16.092(eh)-16.092 G(ad)-16.092 E 3.622(information about ho)72 576 R
10.622(wo)-.7 G 3.622(ften e)-10.622 F -.42(xe)-.42 G(cution).42 E
(follo)72 608 Q(ws each path.)-.7 E/F2 8/Times-Roman@0 SF 2(-p)279.336
760 S(pdp 12 -)-2 E EP
%%Page: 13 13
%%BeginPageSetup
BP
%%EndPageSetup
/F0 28/Times-Roman@0 SF(Performance e)164.35 96 Q -.7(va)-.7 G(luation)
.7 E 6.936 -2.24(We h)72 160 T -6.3 -.56(av e)2.24 H 2.455
(implemented our algorithm in)10.015 F 15.676(the Mercury compiler)72
192 R 29.676(.E)-1.54 G 15.676(nabling it)-29.676 F 3.451
(usually increases compile time by 0 to)72 224 R(2%.)72 256 Q .433
(The transformation consistently reduces)72 320 R -.42(exe)72 352 S
(cutable sizes by 0.1 to 0.5%.).42 E 2.34(It reduces a)72 416 R -.42(ve)
-.56 G 2.34(rage stack frame sizes by).42 F(up to 13%.)72 448 Q .468
(Its impact on e)72 512 R -.42(xe)-.42 G .469(cution time is v).42 F
(ariable.)-.7 E 8.162(It can lead to slo)72 544 R(wdo)-.7 E 8.161
(wns as well as)-.7 F 12.372(speedups, although both are usually)72 576
R(small \(in the 2% range\).)72 608 Q(Occasionally)72 672 Q 7.381(,i)
-1.82 G 7.381(ty)-7.381 G .381(ields signi\214cant \(12%\))-7.381 F
(speedups.)72 704 Q/F1 8/Times-Roman@0 SF 2(-p)279.336 760 S(pdp 13 -)-2
E EP
%%Page: 14 14
%%BeginPageSetup
BP
%%EndPageSetup
/F0 28/Times-Roman@0 SF(Conclusion)233.216 96 Q 12.652 -2.24(We s)72 160
T 8.173(hould use program analysis and)2.24 F 8.341
(maybe pro\214ling feedback to \214nd out)72 192 R 4.295
(which heap references are lik)72 224 R 4.296(ely to be)-.28 F .782
(cache misses, and tak)72 256 R 7.781(et)-.28 G .781(his into account)
-7.781 F(in our cost/bene\214t analysis.)72 288 Q 13.333(It w)72 352 R
13.334(ould be nice if we could tell)-.28 F 23.337
(whether the transformation w)72 384 R(ould)-.28 E -.42(ex)72 416 S
11.174(tend the lifetime of the cell, and).42 F
(apply it only if it doesn')72 448 Q(t.)-.504 E 2.209
(The transformation is applicable to an)72 512 R(y)-.42 E 13.911
(language whose implementation can)72 544 R 7.348
(\214nd out \(1\) the relati)72 576 R 8.187 -.42(ve f)-.7 H(requenc).42
E 14.347(yo)-.42 G(f)-14.347 E -.42(exe)72 608 S .568(cution of tw).42 F
7.568(op)-.28 G .568(rogram se)-7.568 F .568(gments and)-.42 F 10.199
(\(2\) whether a heap cell is modi\214ed)72 640 R(between tw)72 672 Q 7
(op)-.28 G(rogram points.)-7 E/F1 8/Times-Roman@0 SF 2(-p)279.336 760 S
(pdp 14 -)-2 E EP
%%Trailer
end
%%EOF
